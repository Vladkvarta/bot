<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Админ панель - Управление сайтом</title>
    <script src="https://cdn.tailwindcss.com/3.4.16"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: { primary: "#3b82f6", secondary: "#8b5cf6" },
                    borderRadius: {
                        none: "0px",
                        sm: "4px",
                        DEFAULT: "8px",
                        md: "12px",
                        lg: "16px",
                        xl: "20px",
                        "2xl": "24px",
                        "3xl": "32px",
                        full: "9999px",
                        button: "8px",
                    },
                },
            },
        };
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css" />
    <style>
        :where([class^="ri-"])::before {
            content: "\f3c2";
        }
    </style>
</head>

<body class="bg-gray-50 min-h-screen">
    <div class="flex h-screen">
        <!-- Боковое меню -->
        <div class="w-64 bg-white shadow-lg">
            <div class="p-6 border-b border-gray-200">
                <h1 class="text-xl font-bold text-gray-900">Админ панель</h1>
            </div>
            <nav class="mt-6">
                <div class="px-4 space-y-2">
                    <button
                        class="nav-item w-full flex items-center px-4 py-3 text-left text-gray-700 hover:bg-gray-100 rounded-lg transition-colors active"
                        data-section="users">
                        <div class="w-5 h-5 flex items-center justify-center mr-3">
                            <i class="ri-user-line"></i>
                        </div>
                        <span>Пользователи</span>
                    </button>
                    <button
                        class="nav-item w-full flex items-center px-4 py-3 text-left text-gray-700 hover:bg-gray-100 rounded-lg transition-colors"
                        data-section="orders">
                        <div class="w-5 h-5 flex items-center justify-center mr-3">
                            <i class="ri-shopping-cart-line"></i>
                        </div>
                        <span>Заказы</span>
                    </button>
                    <button
                        class="nav-item w-full flex items-center px-4 py-3 text-left text-gray-700 hover:bg-gray-100 rounded-lg transition-colors"
                        data-section="products">
                        <div class="w-5 h-5 flex items-center justify-center mr-3">
                            <i class="ri-store-2-line"></i>
                        </div>
                        <span>Каталог товаров</span>
                    </button>
                </div>
            </nav>
        </div>
        <!-- Основная область контента -->
        <div class="flex-1 flex flex-col overflow-hidden">
            <!-- Шапка -->
            <header class="bg-white shadow-sm border-b border-gray-200 px-6 py-4">
                <div class="flex items-center justify-between">
                    <div>
                        <h2 id="section-title" class="text-2xl font-semibold text-gray-900">
                            Управление пользователями
                        </h2>
                        <p id="section-description" class="text-gray-600 mt-1">
                            Просмотр и редактирование данных пользователей
                        </p>
                    </div>
                    <button id="add-product-button"
                        class="bg-primary text-white px-4 py-2 rounded-button hover:bg-blue-600 transition-colors flex items-center whitespace-nowrap !rounded-button">
                        <div class="w-4 h-4 flex items-center justify-center mr-2">
                            <i class="ri-add-line"></i>
                        </div>
                        Добавить товар
                    </button>
                </div>
            </header>
            <!-- Контент -->
            <main class="flex-1 overflow-y-auto p-6">
                <!-- Раздел пользователей -->
                <div id="users-section" class="section active">
                    <div class="bg-white rounded-lg shadow-sm">
                        <!-- Поиск и фильтры -->
                        <div class="p-6 border-b border-gray-200">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center space-x-4">
                                    <div class="relative">
                                        <div
                                            class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                            <div class="w-4 h-4 flex items-center justify-center text-gray-400">
                                                <i class="ri-search-line"></i>
                                            </div>
                                        </div>
                                        <input type="text" placeholder="Поиск пользователей..."
                                            class="pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-sm" />
                                    </div>
                                    <select
                                        class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-sm pr-8">
                                        <option>Все статусы</option>
                                        <option>Активный</option>
                                        <option>Заблокирован</option>
                                        <option>Неактивный</option>
                                    </select>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button
                                        class="px-4 py-2 border border-gray-300 rounded-button hover:bg-gray-50 transition-colors text-sm whitespace-nowrap !rounded-button">
                                        <div class="w-4 h-4 flex items-center justify-center mr-2 inline-block">
                                            <i class="ri-download-line"></i>
                                        </div>
                                        Экспорт
                                    </button>
                                </div>
                            </div>
                        </div>
                        <!-- Таблица пользователей -->
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th
                                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            ID
                                        </th>
                                        <th
                                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Имя пользователя
                                        </th>
                                        <th
                                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Email
                                        </th>
                                        <th
                                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Дата регистрации
                                        </th>
                                        <th
                                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Статус
                                        </th>
                                        <th
                                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Действия
                                        </th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200">
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                            #12345
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <div class="flex items-center">
                                                <div
                                                    class="w-8 h-8 bg-primary rounded-full flex items-center justify-center text-white text-sm font-medium mr-3">
                                                    А
                                                </div>
                                                <div>
                                                    <div class="text-sm font-medium text-gray-900">
                                                        Александр Петров
                                                    </div>
                                                    <div class="text-sm text-gray-500">
                                                        +7 (999) 123-45-67
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                            alex.petrov@email.com
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                            15.03.2024
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span
                                                class="px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full">Активный</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                            <div class="flex items-center space-x-2">
                                                <button class="text-primary hover:text-blue-600 p-1 edit-user-btn">
                                                    <div class="w-4 h-4 flex items-center justify-center">
                                                        <i class="ri-edit-line"></i>
                                                    </div>
                                                </button>
                                                <button class="text-red-600 hover:text-red-800 p-1">
                                                    <div class="w-4 h-4 flex items-center justify-center">
                                                        <i class="ri-delete-bin-line"></i>
                                                    </div>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                            #12346
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <div class="flex items-center">
                                                <div
                                                    class="w-8 h-8 bg-secondary rounded-full flex items-center justify-center text-white text-sm font-medium mr-3">
                                                    М
                                                </div>
                                                <div>
                                                    <div class="text-sm font-medium text-gray-900">
                                                        Мария Иванова
                                                    </div>
                                                    <div class="text-sm text-gray-500">
                                                        +7 (999) 234-56-78
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                            maria.ivanova@email.com
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                            12.03.2024
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span
                                                class="px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full">Активный</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                            <div class="flex items-center space-x-2">
                                                <button class="text-primary hover:text-blue-600 p-1 edit-user-btn">
                                                    <div class="w-4 h-4 flex items-center justify-center">
                                                        <i class="ri-edit-line"></i>
                                                    </div>
                                                </button>
                                                <button class="text-red-600 hover:text-red-800 p-1">
                                                    <div class="w-4 h-4 flex items-center justify-center">
                                                        <i class="ri-delete-bin-line"></i>
                                                    </div>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                            #12347
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <div class="flex items-center">
                                                <div
                                                    class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white text-sm font-medium mr-3">
                                                    Д
                                                </div>
                                                <div>
                                                    <div class="text-sm font-medium text-gray-900">
                                                        Дмитрий Сидоров
                                                    </div>
                                                    <div class="text-sm text-gray-500">
                                                        +7 (999) 345-67-89
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                            dmitry.sidorov@email.com
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                            10.03.2024
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span
                                                class="px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full">Заблокирован</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                            <div class="flex items-center space-x-2">
                                                <button class="text-primary hover:text-blue-600 p-1 edit-user-btn">
                                                    <div class="w-4 h-4 flex items-center justify-center">
                                                        <i class="ri-edit-line"></i>
                                                    </div>
                                                </button>
                                                <button class="text-red-600 hover:text-red-800 p-1">
                                                    <div class="w-4 h-4 flex items-center justify-center">
                                                        <i class="ri-delete-bin-line"></i>
                                                    </div>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <!-- Пагинация -->
                        <div class="px-6 py-4 border-t border-gray-200">
                            <div class="flex items-center justify-between">
                                <div class="text-sm text-gray-700">
                                    Показано <span class="font-medium">1</span> -
                                    <span class="font-medium">10</span> из
                                    <span class="font-medium">97</span> результатов
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button
                                        class="px-3 py-2 border border-gray-300 rounded-button hover:bg-gray-50 transition-colors text-sm whitespace-nowrap !rounded-button">
                                        Предыдущая
                                    </button>
                                    <button
                                        class="px-3 py-2 bg-primary text-white rounded-button hover:bg-blue-600 transition-colors text-sm whitespace-nowrap !rounded-button">
                                        1
                                    </button>
                                    <button
                                        class="px-3 py-2 border border-gray-300 rounded-button hover:bg-gray-50 transition-colors text-sm whitespace-nowrap !rounded-button">
                                        2
                                    </button>
                                    <button
                                        class="px-3 py-2 border border-gray-300 rounded-button hover:bg-gray-50 transition-colors text-sm whitespace-nowrap !rounded-button">
                                        3
                                    </button>
                                    <button
                                        class="px-3 py-2 border border-gray-300 rounded-button hover:bg-gray-50 transition-colors text-sm whitespace-nowrap !rounded-button">
                                        Следующая
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Раздел заказов -->
                <div id="orders-section" class="section hidden">
                    <div class="bg-white rounded-lg shadow-sm">
                        <!-- Поиск и фильтры -->
                        <div class="p-6 border-b border-gray-200">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center space-x-4">
                                    <div class="relative">
                                        <div
                                            class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                            <div class="w-4 h-4 flex items-center justify-center text-gray-400">
                                                <i class="ri-search-line"></i>
                                            </div>
                                        </div>
                                        <input type="text" placeholder="Поиск заказов..."
                                            class="pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-sm" />
                                    </div>
                                    <select
                                        class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-sm pr-8">
                                        <option>Все статусы</option>
                                        <option>Новый</option>
                                        <option>В обработке</option>
                                        <option>Доставляется</option>
                                        <option>Выполнен</option>
                                        <option>Отменен</option>
                                    </select>
                                    <input type="date"
                                        class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-sm" />
                                </div>
                            </div>
                        </div>
                        <!-- Таблица заказов -->
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th
                                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Номер заказа
                                        </th>
                                        <th
                                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Дата заказа
                                        </th>
                                        <th
                                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Клиент
                                        </th>
                                        <th
                                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Адрес доставки
                                        </th>
                                        <th
                                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Оплата
                                        </th>
                                        <th
                                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Сумма заказа
                                        </th>
                                        <th
                                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Статус
                                        </th>
                                        <th
                                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Действия
                                        </th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200">
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">
                                            #ORD-2024-001
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                            26.07.2024 14:30
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                            Александр Петров
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                            ул. Пушкина, д. 10, кв. 25, Москва
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <div class="flex items-center">
                                                <div class="w-4 h-4 flex items-center justify-center mr-2">
                                                    <i class="ri-bank-card-fill text-green-600"></i>
                                                </div>
                                                <span class="text-sm text-gray-900">Банковская карта</span>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                            15 240 ₽
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span
                                                class="px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full">В
                                                обработке</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                            <div class="flex items-center space-x-2">
                                                <button class="text-primary hover:text-blue-600 p-1">
                                                    <div class="w-4 h-4 flex items-center justify-center">
                                                        <i class="ri-eye-line"></i>
                                                    </div>
                                                </button>
                                                <a href="https://readdy.ai/home/cb9458f8-9101-4315-a4f7-32608dd27b3b/2e49f6bf-f2a0-466b-915e-3f8b9d5ebfca"
                                                    data-readdy="true" class="text-primary hover:text-blue-600 p-1">
                                                    <div class="w-4 h-4 flex items-center justify-center">
                                                        <i class="ri-edit-line"></i>
                                                    </div>
                                                </a>
                                                <button class="text-red-600 hover:text-red-800 p-1">
                                                    <div class="w-4 h-4 flex items-center justify-center">
                                                        <i class="ri-delete-bin-line"></i>
                                                    </div>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">
                                            #ORD-2024-002
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                            26.07.2024 12:15
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                            Мария Иванова
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                            ул. Ленина, д. 15, кв. 42, Санкт-Петербург
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <div class="flex items-center">
                                                <div class="w-4 h-4 flex items-center justify-center mr-2">
                                                    <i class="ri-alipay-fill text-blue-600"></i>
                                                </div>
                                                <span class="text-sm text-gray-900">СБП</span>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                            8 750 ₽
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span
                                                class="px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded-full">Доставляется</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                            <div class="flex items-center space-x-2">
                                                <button class="text-primary hover:text-blue-600 p-1">
                                                    <div class="w-4 h-4 flex items-center justify-center">
                                                        <i class="ri-eye-line"></i>
                                                    </div>
                                                </button>
                                                <a href="https://readdy.ai/home/cb9458f8-9101-4315-a4f7-32608dd27b3b/2e49f6bf-f2a0-466b-915e-3f8b9d5ebfca"
                                                    data-readdy="true" class="text-primary hover:text-blue-600 p-1">
                                                    <div class="w-4 h-4 flex items-center justify-center">
                                                        <i class="ri-edit-line"></i>
                                                    </div>
                                                </a>
                                                <button class="text-red-600 hover:text-red-800 p-1">
                                                    <div class="w-4 h-4 flex items-center justify-center">
                                                        <i class="ri-delete-bin-line"></i>
                                                    </div>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">
                                            #ORD-2024-003
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                            25.07.2024 16:45
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                            Дмитрий Сидоров
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                            пр. Гагарина, д. 28, кв. 15, Новосибирск
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <div class="flex items-center">
                                                <div class="w-4 h-4 flex items-center justify-center mr-2">
                                                    <i class="ri-money-dollar-circle-fill text-yellow-600"></i>
                                                </div>
                                                <span class="text-sm text-gray-900">Наличные</span>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                            22 100 ₽
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span
                                                class="px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full">Выполнен</span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                            <div class="flex items-center space-x-2">
                                                <button class="text-primary hover:text-blue-600 p-1">
                                                    <div class="w-4 h-4 flex items-center justify-center">
                                                        <i class="ri-eye-line"></i>
                                                    </div>
                                                </button>
                                                <a href="https://readdy.ai/home/cb9458f8-9101-4315-a4f7-32608dd27b3b/2e49f6bf-f2a0-466b-915e-3f8b9d5ebfca"
                                                    data-readdy="true" class="text-primary hover:text-blue-600 p-1">
                                                    <div class="w-4 h-4 flex items-center justify-center">
                                                        <i class="ri-edit-line"></i>
                                                    </div>
                                                </a>
                                                <button class="text-red-600 hover:text-red-800 p-1">
                                                    <div class="w-4 h-4 flex items-center justify-center">
                                                        <i class="ri-delete-bin-line"></i>
                                                    </div>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <!-- Пагинация -->
                        <div class="px-6 py-4 border-t border-gray-200">
                            <div class="flex items-center justify-between">
                                <div class="text-sm text-gray-700">
                                    Показано <span class="font-medium">1</span> -
                                    <span class="font-medium">10</span> из
                                    <span class="font-medium">156</span> результатов
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button
                                        class="px-3 py-2 border border-gray-300 rounded-button hover:bg-gray-50 transition-colors text-sm whitespace-nowrap !rounded-button">
                                        Предыдущая
                                    </button>
                                    <button
                                        class="px-3 py-2 bg-primary text-white rounded-button hover:bg-blue-600 transition-colors text-sm whitespace-nowrap !rounded-button">
                                        1
                                    </button>
                                    <button
                                        class="px-3 py-2 border border-gray-300 rounded-button hover:bg-gray-50 transition-colors text-sm whitespace-nowrap !rounded-button">
                                        2
                                    </button>
                                    <button
                                        class="px-3 py-2 border border-gray-300 rounded-button hover:bg-gray-50 transition-colors text-sm whitespace-nowrap !rounded-button">
                                        3
                                    </button>
                                    <button
                                        class="px-3 py-2 border border-gray-300 rounded-button hover:bg-gray-50 transition-colors text-sm whitespace-nowrap !rounded-button">
                                        Следующая
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Раздел товаров -->
                <div id="products-section" class="section hidden">
                    <div id="products-section" class="section active">
                        <div class="bg-white rounded-lg shadow-sm">
                            <div class="overflow-x-auto">
                                <table class="w-full">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th
                                                class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                Название товара</th>
                                            <th
                                                class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                Артикул</th>
                                            <th
                                                class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                Цена</th>
                                            <th
                                                class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                Доступно</th>
                                            <th
                                                class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                Действия</th>
                                        </tr>
                                    </thead>
                                    <tbody id="products-table-body" class="bg-white divide-y divide-gray-200">
                                        <!-- Сюда JavaScript будет загружать товары -->
                                        <tr>
                                            <td colspan="5" class="text-center p-6 text-gray-500">Загрузка товаров...
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

            </main>
        </div>
    </div>
    <script id="navigation-handler">
        document.addEventListener("DOMContentLoaded", function () {
            const navItems = document.querySelectorAll(".nav-item");
            const sections = document.querySelectorAll(".section");
            const sectionTitle = document.getElementById("section-title");
            const sectionDescription = document.getElementById("section-description");
            const addProductButton = document.getElementById("add-product-button");
            const sectionConfig = {
                users: {
                    title: "Управление пользователями",
                    description: "Просмотр и редактирование данных пользователей",
                    buttonText: "Добавить пользователя",
                },
                orders: {
                    title: "Управление заказами",
                    description:
                        "Просмотр и редактирование заказов в хронологическом порядке",
                    buttonText: "Создать заказ",
                },
                products: {
                    title: "Управление товарами",
                    description: "Просмотр и редактирование товаров и их количества",
                    buttonText: "Добавить товар",
                },
            };
            function switchSection(sectionName) {
                navItems.forEach((item) => item.classList.remove("active"));
                sections.forEach((section) => section.classList.add("hidden"));
                const activeNavItem = document.querySelector(
                    `[data-section="${sectionName}"]`,
                );
                const activeSection = document.getElementById(`${sectionName}-section`);
                if (activeNavItem && activeSection) {
                    activeNavItem.classList.add("active");
                    activeSection.classList.remove("hidden");
                    const config = sectionConfig[sectionName];
                    if (config) {
                        sectionTitle.textContent = config.title;
                        sectionDescription.textContent = config.description;
                        if (addProductButton) {
                            addProductButton.innerHTML = `
      <div class="w-4 h-4 flex items-center justify-center mr-2">
      <i class="ri-add-line"></i>
      </div>
      ${config.buttonText}
      `;
                        }
                    }
                }
            }
            navItems.forEach((item) => {
                item.addEventListener("click", function () {
                    const sectionName = this.dataset.section;
                    switchSection(sectionName);
                });
            });
            const activeNavItem = document.querySelector(".nav-item.active");
            if (activeNavItem) {
                switchSection(activeNavItem.dataset.section);
            }
        });
    </script>
    <script id="table-interactions">
        document.addEventListener("DOMContentLoaded", function () {
            const quantityInputs = document.querySelectorAll('input[type="number"]');
            quantityInputs.forEach((input) => {
                input.addEventListener("change", function () {
                    const row = this.closest("tr");
                    const availableCell = row.querySelector("td:nth-child(5) span");
                    const newQuantity = parseInt(this.value);
                    const ordered = 3;
                    const available = newQuantity - ordered;
                    if (availableCell) {
                        availableCell.textContent = available;
                        if (available <= 5) {
                            row.classList.add("bg-red-50");
                            this.classList.add("border-red-300", "bg-red-50");
                            availableCell.classList.add("text-red-600", "font-medium");
                        } else {
                            row.classList.remove("bg-red-50");
                            this.classList.remove("border-red-300", "bg-red-50");
                            availableCell.classList.remove("text-red-600", "font-medium");
                        }
                    }
                });
            });
        });
    </script>
    <style>
        .nav-item.active {
            background-color: #eff6ff;
            color: #3b82f6;
        }

        .section {
            display: block;
        }

        .section.hidden {
            display: none;
        }

        input[type="number"]::-webkit-outer-spin-button,
        input[type="number"]::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        input[type="number"] {
            -moz-appearance: textfield;
        }
    </style>
    
    <!-- Модальное окно для добавления/редактирования ТОВАРА -->
<div id="product-modal" class="fixed inset-0 bg-gray-500 bg-opacity-75 hidden items-center justify-center z-50 p-4">
    <div class="bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-full flex flex-col">
      <header class="p-4 border-b border-gray-200 flex items-center justify-between flex-shrink-0">
          <h1 id="product-modal-title" class="text-lg font-semibold text-gray-900">Редактирование товара</h1>
          <button class="close-modal text-gray-400 hover:text-gray-600"><i class="ri-close-line text-2xl"></i></button>
      </header>
      <main class="flex-1 overflow-y-auto">
        <form id="product-form" class="p-6 space-y-8">
          <!-- Скрытые поля для ID и дат -->
          <input type="hidden" name="productId"/>
          <input type="hidden" name="timestamps.createdAt"/>
          <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <div class="lg:col-span-2 space-y-8">
              <!-- ... здесь вся ваша детальная форма из temp.html ... -->
            </div>
            <div class="space-y-6">
              <!-- ... правая колонка вашей формы ... -->
            </div>
          </div>
          <div class="flex items-center justify-end space-x-4 pt-6 border-t border-gray-200 p-6 flex-shrink-0">
            <button type="button" class="close-modal px-6 py-2 border border-gray-300 rounded-button hover:bg-gray-50 text-sm">Отмена</button>
            <button type="submit" class="px-6 py-2 bg-primary text-white rounded-button hover:bg-blue-600 text-sm">Сохранить изменения</button>
          </div>
        </form>
      </main>
    </div>
  </div>

    <script id="venue-handler">
        document.addEventListener("DOMContentLoaded", function () {
            const addVenueButton = document.getElementById("addVenueButton");
            const venuesContainer = document.getElementById("venuesContainer");
            let venueCounter = document.querySelectorAll(".venue-header").length;
            function getFopOptions() {
                const fops = document.querySelectorAll('[name^="fops["]');
                const fopMap = new Map();
                for (let fop of fops) {
                    if (fop.name.includes("payerName")) {
                        const index = fop.name.match(/\[(\d+)\]/)[1];
                        const innInput = document.querySelector(`[name="fops[${index}].inn"]`);
                        const fopIdInput = document.querySelector(
                            `[name="fops[${index}].fopId"]`,
                        );
                        if (fop.value && innInput && fopIdInput) {
                            fopMap.set(fopIdInput.value, `${fop.value} (ИНН: ${innInput.value})`);
                        }
                    }
                }
                return fopMap;
            }
            function createVenueTemplate(index) {
                const fopOptions = getFopOptions();
                let fopOptionsHtml = "";
                for (const [fopId, fopName] of fopOptions) {
                    fopOptionsHtml += `<option value="${fopId}">${fopName}</option>`;
                }
                return `
      <div class="border border-gray-200 rounded-lg">
      <div class="flex items-center justify-between p-4 cursor-pointer venue-header">
      <div class="flex items-center space-x-4">
      <div class="w-4 h-4 flex items-center justify-center transition-transform">
      <i class="ri-arrow-right-s-line"></i>
      </div>
      <div>
      <span class="text-sm font-medium text-gray-900">Новое заведение</span>
      <span class="text-sm text-gray-500 ml-2">Адрес не указан</span>
      </div>
      </div>
      </div>
      <div class="venue-content px-4 pb-4 hidden">
      <input type="hidden" name="accessibleVenues[${index}].venueId" value="venue_${Date.now()}">
      <div class="grid grid-cols-2 gap-4 mb-4">
      <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Название заведения</label>
      <input type="text" name="accessibleVenues[${index}].venueName" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
      </div>
      <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">ID владельца</label>
      <input type="text" name="accessibleVenues[${index}].ownerId" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" readonly>
      </div>
      </div>
      <div class="mb-4">
      <label class="block text-sm font-medium text-gray-700 mb-1">Привязанный ФОП</label>
      <div class="relative">
      <select name="accessibleVenues[${index}].linkedFopId" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent appearance-none pr-8">
      ${fopOptionsHtml}
      </select>
      <div class="absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none text-gray-500">
      <div class="w-4 h-4 flex items-center justify-center">
      <i class="ri-arrow-down-s-line"></i>
      </div>
      </div>
      </div>
      </div>
      <div class="mb-4">
      <label class="block text-sm font-medium text-gray-700 mb-1">Адрес</label>
      <input type="text" name="accessibleVenues[${index}].address" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
      </div>
      <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">ID заказов</label>
      <input type="text" name="accessibleVenues[${index}].orderIds" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" readonly>
      </div>
      </div>
      </div>
      `;
            }
            function updateVenueIndexes() {
                const venues = venuesContainer.children;
                Array.from(venues).forEach((venue, index) => {
                    venue.querySelectorAll('[name^="accessibleVenues["]').forEach((input) => {
                        const fieldName = input.name.match(/\].(.+)$/)[1];
                        input.name = `accessibleVenues[${index}].${fieldName}`;
                    });
                });
            }
            document.addEventListener("input", function (e) {
                if (
                    e.target.name &&
                    e.target.name.includes("accessibleVenues[") &&
                    e.target.name.includes("venueName")
                ) {
                    const venueElement = e.target.closest(".border.border-gray-200");
                    const nameDisplay = venueElement.querySelector(
                        ".venue-header .text-gray-900",
                    );
                    nameDisplay.textContent = e.target.value || "Новое заведение";
                }
                if (
                    e.target.name &&
                    e.target.name.includes("accessibleVenues[") &&
                    e.target.name.includes("address")
                ) {
                    const venueElement = e.target.closest(".border.border-gray-200");
                    const addressDisplay = venueElement.querySelector(
                        ".venue-header .text-gray-500",
                    );
                    addressDisplay.textContent = e.target.value || "Адрес не указан";
                }
            });
        });
    </script>
    <script id="ingredients-counter">
        document.addEventListener("DOMContentLoaded", function () {
            const ingredientsTextarea = document.querySelector(
                'textarea[name="ingredients"]',
            );
            const ingredientsCounter = document.querySelector(".ingredients-counter");
            if (ingredientsTextarea && ingredientsCounter) {
                ingredientsTextarea.addEventListener("input", function () {
                    ingredientsCounter.textContent = this.value.length;
                });
            }
        });
    </script>
    <script id="modal-handler">
        // Этот скрипт будет работать после того, как основной скрипт загрузит данные
        document.addEventListener('productsLoaded', function () {
            // --- DOM ЭЛЕМЕНТЫ ---
            const addItemButton = document.getElementById("add-item-button");
            const productsTableBody = document.getElementById('products-table-body');

            // Элементы модального окна товара
            const productModal = document.getElementById('product-modal');
            const productModalTitle = document.getElementById('product-modal-title');
            const productForm = document.getElementById('product-form');

            // --- ФУНКЦИИ МОДАЛЬНОГО ОКНА ---
            function openProductModal(product = null) {
                productForm.reset(); // Сбрасываем форму
                if (product) {
                    // --- РЕЖИМ РЕДАКТИРОВАНИЯ ---
                    window.isEditMode = true;
                    productModalTitle.textContent = 'Редактирование товара';

                    // Заполняем все поля формы данными из объекта product
                    productForm.productId.value = product.productId;
                    productForm['timestamps.createdAt'].value = product.timestamps.createdAt;
                    productForm.sku.value = product.sku;
                    productForm.name.value = product.name;
                    productForm.category.value = product.category;
                    productForm.unit.value = product.unit;
                    productForm.isVisible.checked = product.isVisible;
                    productForm.isNew.checked = product.isNew;
                    productForm.description.value = product.description;
                    // Преобразуем массив в строку с переносами
                    productForm.ingredients.value = (product.ingredients || []).join('\n');
                    productForm['specifications.weight'].value = product.specifications.weight;
                    productForm['specifications.shelfLife'].value = product.specifications.shelfLife;
                    productForm['specifications.storageConditions'].value = product.specifications.storageConditions;
                    productForm.price.value = product.price;
                    productForm['stock.initialQuantity'].value = product.stock.initialQuantity;
                    productForm['stock.status'].value = product.stock.status;
                    productForm['shipping.isShippableByMail'].checked = product.shipping.isShippableByMail;
                    productForm['images.0.url'].value = product.images[0]?.url || '';
                } else {
                    // --- РЕЖИМ ДОБАВЛЕНИЯ ---
                    window.isEditMode = false;
                    productModalTitle.textContent = 'Добавление товара';
                }
                productModal.classList.remove('hidden');
                productModal.classList.add('flex');
            }

            function closeProductModal() {
                productModal.classList.add('hidden');
                productModal.classList.remove('flex');
            }

            // --- ОБРАБОТЧИКИ СОБЫТИЙ ---
            // Кнопка "Добавить товар" в шапке
            addItemButton.addEventListener('click', () => {
                const activeSection = document.querySelector('.nav-item.active').dataset.section;
                if (activeSection === 'products') {
                    openProductModal();
                }
            });

            // Кнопки "Редактировать" и "Удалить" в таблице (используем делегирование)
            productsTableBody.addEventListener('click', (e) => {
                const editBtn = e.target.closest('.edit-product-btn');
                const deleteBtn = e.target.closest('.delete-product-btn');

                if (editBtn) {
                    const id = editBtn.dataset.id;
                    // window.allProducts должен быть доступен из другого скрипта
                    const productToEdit = window.allProducts.find(p => p.productId === id);
                    openProductModal(productToEdit);
                }

                if (deleteBtn) {
                    const id = deleteBtn.dataset.id;
                    if (confirm('Вы уверены, что хотите удалить этот товар?')) {
                        // window.api.deleteProduct должен быть доступен
                        window.api.deleteProduct(id).then(() => {
                            // Сообщаем основному скрипту, что нужно обновить таблицу
                            document.dispatchEvent(new Event('dataChanged'));
                        });
                    }
                }
            });

            // Закрытие модального окна
            productModal.addEventListener('click', (e) => {
                if (e.target.closest('.close-modal')) {
                    closeProductModal();
                }
            });

            // Отправка формы
            productForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const formData = new FormData(productForm);
                // Собираем все данные из формы в объект
                const data = {
                    productId: formData.get('productId'),
                    sku: formData.get('sku'),
                    name: formData.get('name'),
                    description: formData.get('description'),
                    category: formData.get('category'),
                    price: parseFloat(formData.get('price')),
                    unit: formData.get('unit'),
                    ingredients: formData.get('ingredients').split('\n').filter(i => i.trim() !== ''),
                    isVisible: formData.get('isVisible') === 'on',
                    isNew: formData.get('isNew') === 'on',
                    specifications: {
                        weight: formData.get('specifications.weight'),
                        shelfLife: formData.get('specifications.shelfLife'),
                        storageConditions: formData.get('specifications.storageConditions'),
                    },
                    shipping: {
                        isShippableByMail: formData.get('shipping.isShippableByMail') === 'on',
                    },
                    stock: {
                        initialQuantity: parseInt(formData.get('stock.initialQuantity')) || 0,
                        status: formData.get('stock.status'),
                    },
                    images: [{
                        url: formData.get('images.0.url'),
                        alt: formData.get('name')
                    }],
                    timestamps: {
                        createdAt: formData.get('timestamps.createdAt')
                    }
                };

                try {
                    if (window.isEditMode) {
                        await window.api.updateProduct(data.productId, data);
                    } else {
                        await window.api.addProduct(data);
                    }
                    closeProductModal();
                    // Сообщаем, что данные изменились
                    document.dispatchEvent(new Event('dataChanged'));
                } catch (error) {
                    console.error('Ошибка сохранения:', error);
                    alert('Не удалось сохранить товар.');
                }
            });
        });
    </script>
</body>

</html>